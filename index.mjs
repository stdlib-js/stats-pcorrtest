// Copyright (c) 2023 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import{primitives as e}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number-array@v0.1.0-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-typed-array-like@v0.1.0-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-read-only-property@v0.1.1-esm/index.mjs";import{factory as i}from"https://cdn.jsdelivr.net/gh/stdlib-js/stats-base-dists-normal-quantile@v0.1.1-esm/index.mjs";import{factory as r}from"https://cdn.jsdelivr.net/gh/stdlib-js/stats-base-dists-normal-cdf@v0.1.0-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@v0.1.1-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-atanh@v0.1.1-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-tanh@v0.1.0-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/stats-base-dists-t-cdf@v0.1.0-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-sqrt@v0.1.1-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-min@v0.1.1-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@v0.1.0-esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@v0.1.0-esm/index.mjs";import{isPrimitive as v}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-boolean@v0.1.1-esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@v0.1.1-esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-roundn@v0.1.0-esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-max@v0.1.1-esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/stats-base-variance@v0.1.0-esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/stats-base-mean@v0.1.0-esm/index.mjs";import{isPrimitive as g}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@v0.1.1-esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nan@v0.1.1-esm/index.mjs";import x from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-index-of@v0.1.0-esm/index.mjs";function y(e){var t,s,i;if(s=4,t=!0,arguments.length>0){if(!p(e))throw new TypeError(n("invalid argument. First argument must be an object. Value: `%s`.",e));if(c(e,"digits")){if(!h(e.digits))throw new TypeError(n("invalid option. `%s` option must be a positive integer. Option: `%s`.","digits",e.digits));s=e.digits}if(c(e,"decision")){if(!v(e.decision))throw new TypeError(n("invalid option. `%s` option must be a boolean. Option: `%s`.","decision",e.decision));t=e.decision}}switch(i="",i+=this.method,i+="\n\n",i+="Alternative hypothesis: ",i+="True correlation coefficient is ",this.alternative){case"less":i+="less than ";break;case"greater":i+="greater than ";break;default:i+="not equal to "}return i+=this.nullValue,i+="\n\n",i+="    pValue: "+j(this.pValue,-s)+"\n",i+="    statistic: "+j(this.statistic,-s)+"\n",i+="    "+100*(1-this.alpha)+"% confidence interval: ["+j(this.ci[0],-s)+","+j(this.ci[1],-s)+"]",i+="\n\n",t&&(i+="Test Decision: ",this.rejected?i+="Reject null in favor of alternative at "+100*this.alpha+"% significance level":i+="Fail to reject null in favor of alternative at "+100*this.alpha+"% significance level",i+="\n"),i}var E=["two-sided","less","greater"];var T=i(0,1),k=r(0,1);function V(i,r,h){var v,j,V,F,O,q,P,R,z,A,D,N,S,B,C,G;if(!t(i)&&!e(i))throw new TypeError(n("invalid argument. First argument must be a numeric array. Value: `%s`.",i));if(!t(r)&&!e(r))throw new TypeError(n("invalid argument. Second argument must be a numeric array. Value: `%s`.",r));if((B=i.length)!==r.length)throw new RangeError("invalid arguments. First and second arguments must be arrays having the same length.");if(F={},h&&(R=function(e,t){return p(t)?c(t,"alpha")&&(e.alpha=t.alpha,!g(e.alpha)||w(e.alpha)||e.alpha<0||e.alpha>1)?new TypeError(n("invalid option. `%s` option must be a number on the interval: [0, 1]. Option: `%s`.","alpha",e.alpha)):c(t,"alternative")&&(e.alternative=t.alternative,-1===x(E,e.alternative))?new TypeError(n('invalid option. `%s` option must be one of the following: "%s". Option: `%s`.',"alternative",E.join('", "'),e.alternative)):c(t,"rho")&&(e.rho=t.rho,!g(e.rho)||w(e.rho)||e.rho<-1||e.rho>1)?new TypeError(n("invalid option. `%s` option must be a number on the interval: [-1, 1]. Option: `%s`.","rho",e.rho)):null:new TypeError(n("invalid argument. Options argument must be an object. Value: `%s`.",t))}(F,h),R))throw R;if(j=void 0===F.alpha?.05:F.alpha,B<4)throw new Error("invalid arguments. Not enough observations. First and second arguments must contain at least four observations.");if(A=void 0===F.rho?0:F.rho,P=void 0===F.alternative?"two-sided":F.alternative,C=function(e,t){var s,i,r,n,a,o,l;for(l=e.length,n=b(l,e,1),a=b(l,t,1),r=0,o=0;o<l;o++)r+=e[o]*t[o];return i=r-l*n*a,s=(l-1)*d(u(l,1,e,1))*d(u(l,1,t,1)),f(m(i/s,1),-1)}(i,r),G=a(C),S=1/d(B-3),0===A)switch(v="t-test for Pearson correlation coefficient",q=d(N=B-2)*C/d(1-C*C),P){case"greater":O=1-l(q,N);break;case"less":O=l(q,N);break;default:O=2*m(l(q,N),1-l(q,N))}else switch(v="Fisher's z transform test for Pearson correlation coefficient",q=(G-a(A))*d(B-3),P){case"greater":O=k(-q);break;case"less":O=1-k(-q);break;default:O=2*m(k(-q),1-k(-q))}switch(P){case"greater":V=[o(G-S*T(1-j)),1];break;case"less":V=[-1,o(G+S*T(1-j))];break;default:D=S*T(1-j/2),V=[o(G-D),o(G+D)]}return s(z={},"rejected",O<=j),s(z,"alpha",j),s(z,"pValue",O),s(z,"statistic",q),s(z,"ci",V),s(z,"alternative",P),s(z,"method",v),s(z,"nullValue",A),s(z,"pcorr",C),s(z,"print",y),z}export{V as default};
//# sourceMappingURL=index.mjs.map
